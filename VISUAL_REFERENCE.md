# ğŸ“– VISUAL REFERENCE GUIDE

## ğŸ—ºï¸ Application Navigation Map

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    HOME PAGE                                 â”‚
â”‚                 (http://localhost:5173)                       â”‚
â”‚                                                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚   Doctor     â”‚  â”‚ ASSISTANT â­ â”‚  â”‚   Patient    â”‚      â”‚
â”‚  â”‚              â”‚  â”‚              â”‚  â”‚              â”‚      â”‚
â”‚  â”‚ Placeholder  â”‚  â”‚ âœ… WORKING   â”‚  â”‚ Placeholder  â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚                          â†“                                    â”‚
â”‚                    Select Assistant                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚             ASSISTANT LOGIN/REGISTER PAGE                    â”‚
â”‚         (http://localhost:5173/assistant/login)              â”‚
â”‚                                                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                               â”‚
â”‚  â”‚  IMAGE    â”‚  FORM        â”‚                               â”‚
â”‚  â”‚  SECTION  â”‚  SECTION     â”‚                               â”‚
â”‚  â”‚           â”‚              â”‚                               â”‚
â”‚  â”‚  Hospital â”‚ Staff ID     â”‚                               â”‚
â”‚  â”‚  Photo    â”‚ [____]       â”‚                               â”‚
â”‚  â”‚           â”‚              â”‚                               â”‚
â”‚  â”‚           â”‚ Password     â”‚                               â”‚
â”‚  â”‚           â”‚ [____]       â”‚                               â”‚
â”‚  â”‚           â”‚              â”‚                               â”‚
â”‚  â”‚           â”‚ [LOGIN]      â”‚                               â”‚
â”‚  â”‚           â”‚              â”‚                               â”‚
â”‚  â”‚           â”‚ Not Reg.?â¬‡ï¸  â”‚                               â”‚
â”‚  â”‚           â”‚              â”‚                               â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                               â”‚
â”‚                                                               â”‚
â”‚  â†™ï¸ Back to Home       Register Form â†—ï¸                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â†“                                 â†“
   NOT REG.                          EXISTING
       â†“                                 â†“
   REGISTRATION                      LOGIN SUCCESS
       â†“                                 â†“
  Fill Form         â†â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’  Get JWT Token
       â†“                                 â†“
  Validate                          Store in localStorage
       â†“                                 â†“
  Create User                       Redirect to Dashboard
       â†“
  Hash Password
       â†“
  Generate Token
       â†“
  Return to Login
       â†“
   LOGIN SUCCESS
       â†“
      (same as existing user)
```

---

## ğŸ¨ Page Layouts

### Home Page
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    COPD Detection                        â”‚
â”‚                         âš•ï¸                               â”‚
â”‚            Clinical Support Portal                       â”‚
â”‚                                                          â”‚
â”‚  Advanced deep learning technology for diagnosis...     â”‚
â”‚                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”‚
â”‚  â”‚  Doctor  â”‚  â”‚Assistant â”‚  â”‚ Patient  â”‚             â”‚
â”‚  â”‚          â”‚  â”‚          â”‚  â”‚          â”‚             â”‚
â”‚  â”‚   ğŸ‘¨â€âš•ï¸   â”‚  â”‚  ğŸ‘©â€ğŸ’¼   â”‚  â”‚  ğŸ§‘â€ğŸ¤â€ğŸ§‘   â”‚             â”‚
â”‚  â”‚          â”‚  â”‚          â”‚  â”‚          â”‚             â”‚
â”‚  â”‚ [Button] â”‚  â”‚ [Button] â”‚  â”‚ [Button] â”‚             â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â”‚
â”‚                                                          â”‚
â”‚    Â© 2024 COPD Detection System                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Assistant Dashboard
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ COPD Detection              Welcome, John Doe  [Logout]  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Sidebar  â”‚                                              â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  Dashboard  stat cards                        â”‚
â”‚ Dashboardâ”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚ ğŸ“Š       â”‚  â”‚   124    â”‚    9     â”‚    3     â”‚          â”‚
â”‚          â”‚  â”‚ Patients â”‚  Today's â”‚ Pending  â”‚          â”‚
â”‚Appointmentsâ”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â”‚ ğŸ“…       â”‚                                              â”‚
â”‚          â”‚  Appointments Table                          â”‚
â”‚ Patients â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚ ğŸ‘¥       â”‚  â”‚Patient â”‚Doctorâ”‚Date â”‚Statusâ”‚Actionâ”‚   â”‚
â”‚          â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤    â”‚
â”‚ [Logout] â”‚  â”‚Kamal   â”‚Silva â”‚2026 â”‚Pendingâ”‚Do Testâ”‚   â”‚
â”‚          â”‚  â”‚Saman   â”‚Jaya  â”‚2026 â”‚Completedâ”‚N/A â”‚   â”‚
â”‚          â”‚  â”‚Nimal   â”‚Silva â”‚2026 â”‚Pendingâ”‚Do Testâ”‚   â”‚
â”‚          â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚          â”‚                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Registration Form
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ IMAGE                â”‚ FORM                            â”‚
â”‚ SECTION              â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€   â”‚
â”‚                      â”‚ Assistant Registration         â”‚
â”‚ Hospital             â”‚                                 â”‚
â”‚ Photo                â”‚ PROFESSIONAL PROFILE           â”‚
â”‚                      â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚                      â”‚ â”‚Staff ID: S01â”‚ Name: John  â”‚  â”‚
â”‚                      â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                      â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚                      â”‚ â”‚NIC: 1234567 â”‚Place: Hosp. â”‚  â”‚
â”‚                      â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                      â”‚                                 â”‚
â”‚                      â”‚ CONTACT INFORMATION            â”‚
â”‚                      â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚                      â”‚ â”‚Email: test@example.com   â”‚   â”‚
â”‚                      â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                      â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚                      â”‚ â”‚Phone: 0712345678         â”‚   â”‚
â”‚                      â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                      â”‚                                 â”‚
â”‚                      â”‚ ACCOUNT SECURITY               â”‚
â”‚                      â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚                      â”‚ â”‚Password: â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢      â”‚   â”‚
â”‚                      â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                      â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚                      â”‚ â”‚Confirm: â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢       â”‚   â”‚
â”‚                      â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                      â”‚                                 â”‚
â”‚                      â”‚ â˜‘ I confirm information...     â”‚
â”‚                      â”‚                                 â”‚
â”‚                      â”‚ [REGISTER]                     â”‚
â”‚                      â”‚ Already registered? Login      â”‚
â”‚                      â”‚ â† Back to Home                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”„ Data Flow Diagram

```
FRONTEND                          BACKEND                    DATABASE
(React)                           (Express)                  (MongoDB)

Home.jsx
   â†“
 Click "Assistant"
   â†“
AssistantLogin.jsx
   â”œâ”€ "New User?" â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’ AssistantRegister.jsx
   â”‚                              â†“
   â”‚                         authController.register()
   â”‚                              â†“
   â”‚                         Validate input
   â”‚                              â†“
   â”‚                         Hash password (bcrypt)
   â”‚                              â†“
   â”‚                         Save User â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’ users collection
   â”‚                              â†“
   â”‚                         Generate JWT token
   â”‚                              â†“
   â”‚                         Response: token + user
   â”‚                              â†“
   â””â”€ Login â”€â”€â†’ authController.login()
                      â†“
                 Find user by staffId
                      â†“
                 Compare password (bcrypt) â—€â”€â”€â”€ Check users
                      â†“
                 Generate JWT token
                      â†“
                 Response: token + user
                      â†“
   Save to localStorage
   (token, user)
                      â†“
   Redirect to Dashboard
                      â†“
   AssistantDashboard.jsx
                      â†“
   attachToken to request
                      â†“
   GET /api/assistant/dashboard â”€â”€â”€â”€â”€â”€â†’ auth middleware
                                              â†“
                                         Verify token
                                              â†“
                                         assistantController.getDashboard()
                                              â†“
                                         Query statistics â—€â”€â”€ Read DB
                                              â†“
                                         Response: data
                                              â†“
   Display data on dashboard
```

---

## ğŸ” Authentication Flow Diagram

```
USER REGISTRATION
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Form   â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
     â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Validate Input      â”‚
â”‚  - Email not exists  â”‚
â”‚  - Password match    â”‚
â”‚  - All fields fill   â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Hash Password        â”‚
â”‚ bcrypt(10 rounds)    â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Save User in DB      â”‚
â”‚ staffId: S001        â”‚
â”‚ email: test@ex.com   â”‚
â”‚ password: $2b$10$... â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Generate JWT Token   â”‚
â”‚ Header:              â”‚
â”‚   {"alg":"HS256"}    â”‚
â”‚ Payload:             â”‚
â”‚   {id, role, iat}    â”‚
â”‚ Signature:           â”‚
â”‚   HMACSHA256(...)    â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Return to Client     â”‚
â”‚ - token              â”‚
â”‚ - user info          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Client Store Token           â”‚
â”‚ localStorage.token = <token> â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

USER LOGIN & PROTECTED REQUEST
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Login Request    â”‚
â”‚ staffId, pwd     â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Find User        â”‚
â”‚ by staffId       â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Compare Password â”‚
â”‚ bcrypt.compare   â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Match? â”€â”€Noâ”€â”€â”€â†’ 401 Unauthorized
â”‚  â”‚
â”‚  Yes
â”‚  â†“
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Generate Token â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Return to Client â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â†“
         (use token in requests)
            â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ GET /api/assistant/dashboard     â”‚
â”‚ Header:                          â”‚
â”‚ Authorization: Bearer <token>    â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Backend receives request         â”‚
â”‚ Middleware: auth.js              â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Extract token from Authorization â”‚
â”‚ Remove "Bearer " prefix          â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Verify JWT signature             â”‚
â”‚ jwt.verify(token, secret)        â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Valid? â”€â”€Noâ”€â”€â”€â†’ 401 Invalid token
â”‚  â”‚
â”‚  Yes
â”‚  â†“
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Extract userId â”‚
â”‚ from payload   â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Attach to request: req.user      â”‚
â”‚ Proceed to controller            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â†“
       Process request
           â†“
      Return response
```

---

## ğŸ“Š Database Relationship Diagram

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ USERS        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ _id (PK)     â”‚
â”‚ staffId      â”‚ â† Unique for staff
â”‚ role         â”‚ â† doctor|assistant|patient
â”‚ fullName     â”‚
â”‚ email        â”‚ â† Unique
â”‚ password     â”‚ â† Hashed
â”‚ phone        â”‚
â”‚ nic          â”‚ â† Unique
â”‚ placeOfWork  â”‚
â”‚ isActive     â”‚
â”‚ createdAt    â”‚
â”‚ updatedAt    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
      â†‘ â†‘
      â”‚ â”‚
  (1) â”‚ â”‚ (many)
      â”‚ â”‚
â”Œâ”€â”€â”€â”€â”€â”´â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ PATIENTS         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ _id (PK)         â”‚
â”‚ userId (FK)      â”‚â”€â”€â”€â”€â†’ User
â”‚ age              â”‚
â”‚ gender           â”‚
â”‚ medicalHistory   â”‚
â”‚ status           â”‚
â”‚ assignedDoctorâ”€â”€â”€â”€â”€â”€â”€â”€â”€â†’ User (Doctor)
â”‚ createdAt        â”‚
â”‚ updatedAt        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
      â†‘
      â”‚ (many-to-many)
      â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ APPOINTMENTS         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ _id (PK)             â”‚
â”‚ patientId (FK)       â”‚â”€â”€â”€â”€â†’ User (Patient)
â”‚ doctorId (FK)        â”‚â”€â”€â”€â”€â†’ User (Doctor)
â”‚ appointmentDate      â”‚
â”‚ status               â”‚
â”‚ notes                â”‚
â”‚ createdAt            â”‚
â”‚ updatedAt            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”„ Component Hierarchy

```
App.jsx
  â”œâ”€ Router
  â”‚   â”œâ”€ Home.jsx
  â”‚   â”‚
  â”‚   â”œâ”€ AssistantLogin.jsx
  â”‚   â”‚
  â”‚   â”œâ”€ AssistantRegister.jsx
  â”‚   â”‚
  â”‚   â””â”€ Protected Routes (require token)
  â”‚       â”œâ”€ Layout (Sidebar + Navbar)
  â”‚       â”‚  â”œâ”€ Sidebar.jsx
  â”‚       â”‚  â””â”€ Navbar.jsx
  â”‚       â”‚
  â”‚       â”œâ”€ AssistantDashboard.jsx
  â”‚       â”‚  â”œâ”€ Stat Cards
  â”‚       â”‚  â””â”€ Appointments Table
  â”‚       â”‚
  â”‚       â”œâ”€ Appointments.jsx
  â”‚       â”‚  â””â”€ Appointments Table
  â”‚       â”‚
  â”‚       â””â”€ Patients.jsx
  â”‚           â””â”€ Patients Table
  â”‚
  â””â”€ Services
      â””â”€ apiService.js (Axios)
```

---

## ğŸ“¡ API Request/Response Cycle

```
CLIENT REQUEST
â”‚
â”œâ”€ URL: http://localhost:5000/api/auth/login
â”œâ”€ Method: POST
â”œâ”€ Headers:
â”‚  â”œâ”€ Content-Type: application/json
â”‚  â””â”€ (CORS headers auto-added)
â”œâ”€ Body: {
â”‚  â”œâ”€ "staffId": "S001"
â”‚  â””â”€ "password": "password123"
â”‚  }
â””â”€ Sent by: Axios

SERVER RECEIVES
â”‚
â”œâ”€ Express middleware processes:
â”‚  â”œâ”€ CORS validation
â”‚  â”œâ”€ JSON parsing
â”‚  â””â”€ Morgan logging
â”‚
â”œâ”€ Router matches: /api/auth/login
â”‚
â”œâ”€ Controller executes: authController.login()
â”‚  â”œâ”€ Find user in MongoDB
â”‚  â”œâ”€ Compare password
â”‚  â”œâ”€ Generate JWT token
â”‚  â””â”€ Prepare response
â”‚
â””â”€ Send Response

SERVER RESPONSE
â”‚
â”œâ”€ Status: 200 OK
â”œâ”€ Headers:
â”‚  â”œâ”€ Content-Type: application/json
â”‚  â””â”€ (CORS headers)
â”œâ”€ Body: {
â”‚  â”œâ”€ "success": true
â”‚  â”œâ”€ "token": "eyJhbGciOi..."
â”‚  â””â”€ "user": { id, name, email, role }
â”‚  }
â””â”€ Received by: Axios

CLIENT PROCESSES
â”‚
â”œâ”€ Extract token
â”œâ”€ Store in localStorage
â”œâ”€ Extract user info
â”œâ”€ Store in localStorage
â”œâ”€ Redirect to dashboard
â””â”€ Display user info

NEXT REQUEST (Protected Route)
â”‚
â”œâ”€ Axios interceptor runs
â”œâ”€ Retrieves token from localStorage
â”œâ”€ Adds to Authorization header:
â”‚  â””â”€ "Authorization": "Bearer eyJhbGciOi..."
â”‚
â””â”€ Request sent with token
   â”‚
   â””â”€ Backend auth middleware verifies token
      â””â”€ If valid, process request
      â””â”€ If invalid, return 401
```

---

## âš¡ Performance Overview

```
Page Load Timeline
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

0ms      â”œâ”€ Start request
         â”‚
50ms     â”œâ”€ DNS resolution
         â”‚
100ms    â”œâ”€ TCP connection
         â”‚
150ms    â”œâ”€ TLS handshake (if HTTPS)
         â”‚
200ms    â”œâ”€ HTTP request sent
         â”‚
300ms    â”œâ”€ Server processing
         â”‚  â””â”€ API calls to DB
         â”‚
400ms    â”œâ”€ Response received
         â”‚
500ms    â”œâ”€ React renders
         â”‚
600ms    â”œâ”€ Styles apply
         â”‚
700ms    â”œâ”€ Page interactive
         â”‚
800ms    â””â”€ All images loaded (if any)

Ideal: < 3 seconds total
```

---

## ğŸ¯ File Access Map

```
Want to...                          â†’ Go to...

Add API endpoint                    â†’ backend/src/routes/
                                     backend/src/controllers/

Add database model                  â†’ backend/src/models/

Fix styling                         â†’ frontend/src/styles/

Add new page                        â†’ frontend/src/pages/
                                     frontend/src/App.jsx (add route)

Add new component                   â†’ frontend/src/components/

Change authentication               â†’ backend/src/middleware/auth.js

Fix API calls                       â†’ frontend/src/services/apiService.js

Add validation                      â†’ backend/src/controllers/

Configure database                  â†’ backend/.env
                                     backend/src/config/database.js

Configure API URL                   â†’ frontend/.env

Understand flow                     â†’ ARCHITECTURE.md

Test everything                     â†’ TESTING.md

Deploy to production               â†’ DEVELOPER_GUIDE.md
                                     (Production Deployment)
```

---

**Visual Reference Created! ğŸ“Š**

Use this guide to quickly understand the system structure and data flow.
